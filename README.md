### Задание 1

---

В процессе обычно используются утилиты для восстановления, поставляемые в комплекте с СУБД.

1.1 Дифференциальная резервная копия подойдет. Дифференциальная резервная копия позволяет быстрее восстанавливать данные по сравнению с инкрементным резервным копированием, поскольку для этого требуется всего две части резервной копии: полная резервная копия и последняя дифференциальная резервная копия. Данное резервное копирование быстрее, чем полное, но медленнее, чем инкрементное .

1.2 Инкрементное резервное копирование подойдет. Инкрементное резервное копирование использует полную копию, как начальную точку. Затем выполняется резервное копирование только блоков данных, которые были изменены с момента последнего резервного задания, с заданным периодом выполнения задания. В зависимости от политики хранения резервных копии, через определенный период создается новая полная копия для повторения цикла. Инкрементное резервное копирование можно выполнять так часто, как требуется, так как сохраняются только копии последних изменений. Нам это подходит.

1.3 Репликация master-slave

---

### Задание 2

2.1

Выгрузка базы my-db-name в файл sql-скрипта :
pg_dump my-db-name > my-db-name.sql
Загрузка из sql-скрипта : 
psql -d my-db-name -f my-db-name.sql

Выгрузка базы в архивный файл :
pg_dump -Fc my-db-name > my-db-name-dump

Выгрузка базы в архивный каталог :
pg_dump -Fd my-db-name -j 5 -f dumpdir

Удалаяем базу :
dropdb my-db-name

Восстанавливаем базу из архивного файла
pg_restore -Cd my-db-name my-db-name-dump

Создаем новую базу: createdb -T template0 my-db-name
pg_restore -d my-db-name my-db-name-dump

2.2
Сохраняем скрипт в файл, например, postgres_dump01.sh. Для запуска резервного копирования по расписанию создаем задание в планировщике с запуском скрипта каждый день в 04:00 

crontab -e

4 0 * * * /scripts/postgres_dump.sh

---

### Задание 3

mysqldump --all-databases --master-data=2 --single-transaction --flush-logs --delete-master-logs > full_backup_all_db.sql

mysql < full_backup_all_db.sql

mysqlbinlog gbichot2-bin.000007 gbichot2-bin.000008 | mysql

3.1 Реплика - это полная копия БД, но при этом не является резервной копией. Репликация позволяет в случае сбоя продолжать предоставлять сервис (доступ к БД) за счет избыточного резервирования.

---


